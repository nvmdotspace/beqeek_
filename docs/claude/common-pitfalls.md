# Common Pitfalls

1. **Packages not updating**: Run `pnpm build` from root to rebuild packages
2. **Import paths**: Use `@workspace/` for packages, `@/` for app src
3. **State duplication**: Single source of truth (don't mix React Query + Zustand for same data)
4. **Missing auth guards**: All authenticated routes need `getIsAuthenticated()` in `beforeLoad`
5. **Encryption key exposure**: Never log or transmit encryption keys
6. **Design violations**: Check `docs/design-system.md` before UI changes
7. **Locale fallback**: Unsupported locales fallback to `vi`
8. **File-based routing**: Routes are files in `src/routes/`, NOT `src/router.tsx` (deleted)
9. **Generated files**: NEVER edit `routeTree.gen.ts` - auto-generated by TanStack Router plugin
10. **Router instance**: Use `useRouter()` hook, NOT a global `router` import
11. **Route naming**: `$` for params, `_` prefix for pathless layouts, `$.tsx` for catch-all/404
12. **Route params**: ALWAYS use `getRouteApi()` for type-safe params, NEVER use `useParams({ from: '...' })` with type assertions
